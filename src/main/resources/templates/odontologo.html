<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
        name="viewport">
  <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" rel="stylesheet">
  <link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"
        integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA=="
        referrerpolicy="no-referrer" rel="stylesheet"/>
  <link rel="stylesheet" th:href="@{/css/cssandjs/common.css}">
  <title>Odontólogos</title>
  <script crossorigin="anonymous" defer
          integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>
  <script defer th:src="@{/js/cssandjs/odontologo-add.js}" type="text/javascript"></script>
  <script defer th:src="@{/js/cssandjs/odontologo-remove.js}" type="text/javascript"></script>
  <script defer th:src="@{/js/cssandjs/odontologo-modify.js}" type="text/javascript"></script>
</head>

<body>
<header>
  <nav class="navbar navbar-light bg-light">
    <a class="btn btn-secondary" href="/paciente">Pacientes</a>
    <a class="btn btn-secondary" href="#"><i>Odontologos</i></a>
    <a class="btn btn-secondary" href="/turno">Turnos</a>
  </nav>
</header>

<main>
  <div class="forms">
    <form id="odontologoAdd">
      <h2>Agregar un odontólogo nuevo</h2>
      <div class="form-group">
        <label for="nombre">Nombre</label>
        <input class="form-control" id="nombre" name="nombre" required type="text">
      </div>
      <div class="form-group">
        <label for="apellido">Apellido</label>
        <input class="form-control" id="apellido" name="apellido" required type="text">
      </div>
      <div class="form-group">
        <label for="matricula">Matrícula</label>
        <input class="form-control" id="matricula" name="matricula" required type="text">
      </div>
      <button class="btn btn-primary" input="submit">Agregar</button>
    </form>

    <form id="odontologoModify">
      <h2>Sobreescribir un odontologo existente</h2>
      <label for="modifyId">ID a modificar:</label>
      <select class="form-select form-control" id="modifyId" required>
        <option selected>Elija...</option>
        <option th:each="odont : ${odontologos}" th:name="${odont.id}" th:text="${odont.id}"
                th:value="${odont.id}"></option>
      </select>
      <div class="form-group">
        <label for="modifyNombre">Nombre</label>
        <input class="form-control" id="modifyNombre" name="nombre" required type="text">
      </div>
      <div class="form-group">
        <label for="modifyApellido">Apellido</label>
        <input class="form-control" id="modifyApellido" name="apellido" required type="text">
      </div>
      <div class="form-group">
        <label for="modifyMatricula">Matrícula</label>
        <input class="form-control" id="modifyMatricula" name="matricula" required type="text">
      </div>
      <button class="btn btn-warning" type="submit">Modificar</button>
    </form>
  </div>

  <h2>Odontologos registrados</h2>
  <table class="table table-striped table-bordered" style="max-width: 50vw;">
    <thead>
    <th scope="col">Id</th>
    <th scope="col">Nombre</th>
    <th scope="col">Apellido</th>
    <th scope="col">Matrícula</th>
    <th scope="col"><i>Borrar</i></th>
    </thead>
    <tbody>
    <tr th:each="odont : ${odontologos}">
      <th scope="row" th:text="${odont.id}"></th>
      <td th:text="${odont.nombre}"></td>
      <td th:text="${odont.apellido}"></td>
      <td th:text="${odont.matricula}"></td>
      <td>
        <button class="btn btn-danger"
                onclick="handleRemoveOdontologo(this)"
                th:id="${odont.id}">
          <i class="fas fa-trash-alt"></i>
        </button>
      </td>
    </tr>
    </tbody>
  </table>
</main>
</body>
</html>